<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简单的服务端渲染 | Barry7的个人博客</title>
    <meta name="description" content="欢迎来到Barry7的个人博客">
    
    
    <link rel="preload" href="/assets/css/0.styles.5203916d.css" as="style"><link rel="preload" href="/assets/js/app.4184c4e1.js" as="script"><link rel="preload" href="/assets/js/2.3b1e7183.js" as="script"><link rel="preload" href="/assets/js/4.46b713c8.js" as="script"><link rel="prefetch" href="/assets/js/10.1476eed9.js"><link rel="prefetch" href="/assets/js/11.c991df82.js"><link rel="prefetch" href="/assets/js/12.234adfe3.js"><link rel="prefetch" href="/assets/js/13.60741dd3.js"><link rel="prefetch" href="/assets/js/3.c643f2be.js"><link rel="prefetch" href="/assets/js/5.d0d7519f.js"><link rel="prefetch" href="/assets/js/6.30e5ef7d.js"><link rel="prefetch" href="/assets/js/7.36f4a970.js"><link rel="prefetch" href="/assets/js/8.3f97aae5.js"><link rel="prefetch" href="/assets/js/9.4fd2cbf2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5203916d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Barry7的个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/barry7" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/frontend/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GitHub</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/barry7" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端开发分享</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/" class="sidebar-link">列表</a></li><li><a href="/frontend/largeList.html" class="sidebar-link">超大列表性能优化</a></li><li><a href="/frontend/select.html" class="sidebar-link">Element中select自定义过滤函数</a></li><li><a href="/frontend/select2.html" class="sidebar-link">Element中select自定义过滤属性</a></li><li><a href="/frontend/VUE-SSR.html" class="active sidebar-link">简单的服务端渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/VUE-SSR.html#package-json" class="sidebar-link">package.json</a></li><li class="sidebar-sub-header"><a href="/frontend/VUE-SSR.html#conf-js" class="sidebar-link">conf.js</a></li><li class="sidebar-sub-header"><a href="/frontend/VUE-SSR.html#server-js" class="sidebar-link">server.js</a></li><li class="sidebar-sub-header"><a href="/frontend/VUE-SSR.html#性能对比" class="sidebar-link">性能对比</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="简单的服务端渲染"><a href="#简单的服务端渲染" aria-hidden="true" class="header-anchor">#</a> 简单的服务端渲染</h1> <p>项目地址:<a href="https://github.com/barry7/learnSSR/tree/server-side-render-withoutAjax-dev" target="_blank" rel="noopener noreferrer">https://github.com/barry7/learnSSR/tree/server-side-render-withoutAjax-dev<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="package-json"><a href="#package-json" aria-hidden="true" class="header-anchor">#</a> package.json</h2> <p>查看<code>package.json</code>可以发现，
当我们执行<code>npm run build</code>时，其实是执行了
<code>webpack --config webpack.client.conf.js &amp;&amp; webpack --config webpack.server.conf.js</code>
那么我们去查看这几个<code>conf.js</code>。</p> <h2 id="conf-js"><a href="#conf-js" aria-hidden="true" class="header-anchor">#</a> conf.js</h2> <h3 id="webpack-client-conf-js"><a href="#webpack-client-conf-js" aria-hidden="true" class="header-anchor">#</a> webpack.client.conf.js</h3> <p>一开始引入了<code>webpack-merge</code>，和<code>webpack.base.conf.js</code>进行了混入，
并且使用<code>html-webpack-plugin</code>生成html模板。<br>
查看<code>webpack.base.conf.js</code>，其中指定了一些路径和模块。<br>
入口文件为<code>./entry-client.js</code>，其中代码只有三行</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> createApp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./main.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>从<code>main.js</code>中导入一个工厂函数，然后将生成的VUE实例挂载到<code>div#app</code>上。
查看<code>main.js</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Vue <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./App.vue'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">render</span><span class="token punctuation">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> app<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> createApp<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>简单来说就是引入了一个Vue组件<code>App.vue</code>，也就是<code>Foo.vue</code>和<code>Bar.vue</code>的根组件。
然后导出一个创建Vue实例的工厂函数。</p> <h3 id="webpack-server-conf-js"><a href="#webpack-server-conf-js" aria-hidden="true" class="header-anchor">#</a> webpack.server.conf.js</h3> <p>类似<code>client</code>。但其中有些设置需要注意：</p> <ul><li><code>target: 'node'</code>：指定 Node 环境，避免非 Node 环境特定 API 报错，如 document 等；</li> <li><code>filename: '[name].js'</code>：因为服务器是 Node，所以必须按照 commonjs 规范打包才能被服务器调用。</li></ul> <p>入口文件为<code>./entry-server.js</code>，其中代码只有三行</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> createApp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./main.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> createApp<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>和上面客户端渲染的文件类似，只是不需要挂载了，这是因为服务端渲染的内容会挂载到HTML文件中
<code>&lt;!--vue-ssr-outlet--&gt;</code>注释处。</p> <p>至此，打包完成。</p> <h2 id="server-js"><a href="#server-js" aria-hidden="true" class="header-anchor">#</a> server.js</h2> <p>执行<code>npm run</code>，其实是执行了<code>node server.js</code>。</p> <p>查看<code>server.js</code>，
首先引入需要的模块，比如<code>fs</code>、<code>path</code>、还有用作服务器的<code>express</code>等。</p> <p>分别启动两个服务器，<code>server</code>、<code>feServer</code></p> <ul><li><code>server</code>：首先实例化一个<code>renderer</code>，并且使用<code>dist/index.ssr.html</code>作为<code>template</code>，
当请求进入的时候，使用工厂函数实例化一个<code>app</code>，
使用<code>renderer</code>的<code>renderToString</code>方法将<code>app</code>转为HTML字符串传回。
最后监听<code>8002</code>端口
<ul><li>我们可以看下<code>dist/index.ssr.html</code>的结构：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>   <span class="token doctype">&lt;!DOCTYPE html&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>服务端渲染<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
   
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token comment">&lt;!--vue-ssr-outlet--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>client.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
   
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div>其中注释部分就是<code>app</code>转换为字符串插入的地方，并且最后引入了<code>client.js</code>。</li> <li><code>feServer</code>：<code>feServer</code>就相对简单一些了，当请求进入的时候，直接返回相应的HTML即可。
<ul><li>我们也看下<code>dist/index.html</code>的代码：</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code>    <span class="token doctype">&lt;!DOCTYPE html&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>浏览器渲染<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>app</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>app</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>client.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div>其中只有一个id为<code>app</code>的div，是一会<code>client.js</code>中VUE实例挂载的位置。</li></ul> <p>##查看结果
最后使用浏览器打开<a href="http://localhost:8002/index" target="_blank" rel="noopener noreferrer">localhost:8002/index<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>查看SSR的效果，或者打开
<a href="http://localhost:8003/index" target="_blank" rel="noopener noreferrer">localhost:8003/index<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>查看普通客户端渲染的效果。</p> <div align="center"><img src="data:image/jpeg;base64,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"></div> <p>看到<code>data-server-rendered=&quot;true&quot;</code>就知道是服务器渲染的DIV了。</p> <h2 id="性能对比"><a href="#性能对比" aria-hidden="true" class="header-anchor">#</a> 性能对比</h2> <h3 id="客户端渲染"><a href="#客户端渲染" aria-hidden="true" class="header-anchor">#</a> 客户端渲染</h3> <div align="center"><img src="/assets/img/client-performance.37553ad8.jpg"></div> <p>客户端渲染的<code>First Paint</code>时间是靠后的，
他需要等待js下载完成，才可以实例化Vue对象，然后执行完Vue的生命周期才可以渲染。</p> <h3 id="服务端渲染"><a href="#服务端渲染" aria-hidden="true" class="header-anchor">#</a> 服务端渲染</h3> <div align="center"><img src="/assets/img/ssr-performance.96722999.jpg"></div> <p>可以看到，服务端渲染的<code>First Paint</code>时间是远远快于客户端渲染的，
这是因为他不需要等待js下载就可以渲染。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/frontend/select2.html" class="prev">
          Element中select自定义过滤属性
        </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4184c4e1.js" defer></script><script src="/assets/js/2.3b1e7183.js" defer></script><script src="/assets/js/4.46b713c8.js" defer></script>
  </body>
</html>
